
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Trang chủ | Sách Mềm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Sách Mềm - Công cụ hỗ trợ giảng dạy, học tập theo chương trình và sách giáo khoa phổ thông." />
    <meta property="og:url" content="https://www.sachmem.vn/users/sign_in" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Sách Mềm - Dạy hay - Học tốt" />
    <meta property="og:description" content="Sách Mềm - phần mềm bổ trợ sách giáo khoa - Hỗ trợ giáo viên giảng bài theo sách tương tác sinh động. - Hỗ trợ học sinh ôn luyện, làm bài tập dễ dàng, thuận tiện" />
    <meta property="og:image" content="https://cdn.sachmem.vn/public/temp-sm-questions/image/logo_small.png" />
    <meta property="fb:app_id" content="974889472547644" />
    <link rel="stylesheet" media="all" href="https://cdn.sachmem.vn/libs/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="manifest" href="/manifest.json" />
    <script type="text/javascript">
      // const api_story = 'http://localhost:8050/';
      // const story_url = 'http://localhost:4201/';
      const api_story = 'https://truyen-api.sachmem.vn/';
      const story_url = 'https://truyen.sachmem.vn/';
      const DOMAIN_LIST = ['https://cdn.sachmem.vn/public/', 'https://cdn.sachmem.vn/public/'];
      DOMAIN = DOMAIN_LIST[Math.floor(Math.random() * DOMAIN_LIST.length)];
    </script>

    <link  href="https://cdn.sachmem.vn/public/sachmem268/assets/library.css" rel="stylesheet" media="all" />
    <script src="https://cdn.sachmem.vn/public/sachmem268/assets/library.js"></script>

    <link  href="https://cdn.sachmem.vn/public/sachmem268/assets/application.css" rel="stylesheet" media="all" />
    <script src="https://cdn.sachmem.vn/public/sachmem268/assets/application.js"></script>

    <link  href="https://cdn.sachmem.vn/public/sachmem268/assets/homepage.css" rel="stylesheet" media="all" />

    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '335076985436860');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=335076985436860&ev=PageView&noscript=1"
    /></noscript>

    <script src="https://cdn.sachmem.vn/libs/js/pixi-legacy.min.js"></script>
    <script src="https://cdn.sachmem.vn/libs/js/pixi-spine-3.8.1.min.js"></script>
    <script type="text/javascript">
      function run_sw(sw_name) {
        if ('serviceWorker' in navigator && navigator.serviceWorker.controller == null && navigator.sayswho != undefined && parseInt(navigator.sayswho.split(" ")[1]) >= 58 && !isFirefox) {
          navigator.serviceWorker.register(sw_name)
            .then(function(reg) {
              console.log('[Service worker] Registered!');
            });
        } else if ('serviceWorker' in navigator && navigator.serviceWorker.controller != null && (navigator.serviceWorker.controller.scriptURL != origin_url + sw_name)) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for (var i = 0; i < registrations.length; i++) {
              registrations[i].unregister();
            }
            caches.delete('cache-sachmem-v1');
            navigator.serviceWorker.register(sw_name)
              .then(function(reg) {
                console.log('[Service worker] Registered!');
              });
          })
        }
      }
      var checkBrowser_homepage = !isFirefox && window.Cache != undefined && navigator.sayswho != undefined && parseInt(navigator.sayswho.split(" ")[1]) >= 58;
      var checkBrowser = navigator != undefined && navigator.serviceWorker != undefined && navigator.serviceWorker.controller != null && checkBrowser_homepage;

      window.PIXI.utils.skipHello();
      function addDomain(input) {
        if (typeof(input) === "object") {
          for (var i in input) {
            if (typeof(input[i]) === "object") {
              addDomain(input[i]);
            } else {
              if (input[i].toString().trim().match(/(\.mp3$)|(\.jpg$)|(\.png$)|(\.webp$)/i) && !input[i].toString().trim().match(/^(https?|sachmem):\/\//)) {
                input[i] = DOMAIN + input[i];
              }
            }
          }
        }
      }
      function preloadData(input) {
        if (typeof(input) === "object") {
          for (var i in input) {
            preloadData(input[i]);
          }
        } else if(input) {
          var tmpInput = input.toString().trim();
          if(!tmpInput.match(/^(https?|sachmem):\/\//)) {
            tmpInput = DOMAIN + tmpInput;
          }
          if (tmpInput.match(/(\.jpg$)|(\.png$)/i)) {
            var img = new Image();
            img.src = tmpInput;
          }
          if (tmpInput.match(/(\.mp3$)/i)) {
            var audio = new Audio();
            audio.src = tmpInput;
          }
        }
      }

    </script>

    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="9d1Pv6KGRFi/+mwzAoj9w7kRg1M8CIY+1PoQzyVZsvomJyMXIDPy8amsy2iaxPwCMaPC1cHQ+p5u7Tc+4g4/Sg==" />
  </head>

  <body>
    <style type="text/css">
      .display-none {
        display: none;
      }
    </style>
    <script type="text/javascript">
      $("body").addClass("display-none");
      $(document).ready(function() {
        $("body").removeClass("display-none");
        if (window.location.href.indexOf("ms_exercises") < 0) {
          NProgress.start();
          NProgress.set(0.4);
        }
        run_sw("/serviceworker-268.js");
        z_dictionary({"hideHeader":false,"hideFooter":false,"autoGoogleTranslate":true,"is_teacher":true});
      });
      var _mouse = new UtilityMouse();
      var BOOK_JSON_VERSION = '20';
      var is_diamond_teacher_check = false
    </script>

        <!-- <link rel="stylesheet" href="https://cdn.sachmem.vn/tienganh/site/views/assets/css/css-main/style.css">
<link rel="stylesheet" href="https://cdn.sachmem.vn/tienganh/site/views/assets/css/css-main/custom.css">
<link rel="stylesheet" href="https://cdn.sachmem.vn/tienganh/site/views/assets/css/css-main/reponsive/home.css"> -->
<div class="tienganhsachmem">
  <nav class="navbar navbar-default">
    <div class="container navbar-container">
      <a class="navbar-brand logo-lap" href="/">
        <!-- <img src="https://cdn.sachmem.vn/public/images/common/logo-small2.png" class="logo-header" alt="logo"> -->
        <img src="https://cdn.sachmem.vn/tienganh/site/views/assets/images/gd-logo.png" class="logo-header" alt="logo">
        <!-- <h3 class="text-uppercase logo-text">CÔNG TY CỔ PHẦN ĐẦU TƯ <br> VÀ PHÁT TRIỂN GIÁO DỤC HÀ NỘI</h3> -->
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="true" aria-label="Toggle navigation">
        <span class="oi oi-menu"><i class="fa fa-bars" aria-hidden="true"></i></span>
      </button>
      <a class="navbar-brand logo-mobile w-80" href="/">
        <!-- <img src="https://cdn.sachmem.vn/public/images/common/logo-small2.png" class="logo-header" alt="logo"> -->
        <img src="https://cdn.sachmem.vn/tienganh/site/views/assets/images/gd-logo.png" class="logo-header" alt="logo">
      </a>
      <div class="navbar-brand m-0 p-0 search-on-nav search-box-will-show w-9">
        <!-- <div class="icon-search" data-toggle="modal" data-target="#search-modal">
          <i class="fa fa-search icon-search-i" aria-hidden="true"></i>
        </div> -->
      </div>
      <div class="collapse navbar-collapse" id="ftco-nav">

            <ul class="nav navbar-nav">
  <!-- <li class="selected"><a href="/"> Trang chủ</a></li> -->
  <li class="dropdown">
    <a href="" class="text-header" data-toggle="dropdown" role="button"
       aria-haspopup="true" aria-expanded="false">
      Giới Thiệu
    </a>
    <ul class="dropdown-menu">
      <li><a href="/gioi-thieu/bo-sgk-tieng-anh-global-success">BỘ SGK TIẾNG ANH GLOBAL SUCCESS</a></li>
      <li><a target="_blank" href="https://phuongnam.edu.vn/friend2">FAMILY AND FRIENDS NATIONAL EDITION</a></li>
      <li><a target="_blank" href="https://tienganh3s.vn/">BỘ TIẾNG ANH TĂNG CƯỜNG 3S</a></li>
    </ul>
  </li>
  <li class="selected"><a href="/home"> Sách của tôi</a></li>
  <li class="dropdown">
    <a href="" class="text-header" data-toggle="dropdown" role="button"
       aria-haspopup="true" aria-expanded="false">
      Sản phẩm
    </a>
    <ul class="dropdown-menu">
      <li><a href="/sach/mam-non">Mầm non</a></li>
      <li><a href="/sach/tieu-hoc">Tiểu học</a></li>
      <li><a href="/sach/thcs">Trung học cơ sở</a></li>
      <li><a href="/sach/thpt">Trung học phổ thông</a></li>
      <li><a href="/trial">Sách Mềm học sinh</a></li>
      <li><a href="/trial?type=teacher">Sách Mềm giáo viên</a></li>
      <li><a target="_blank" href="https://lingobee.vn/">Ứng dụng LingoBee</a></li>
    </ul>
  </li>

  <li class="dropdown">
    <a href="" class="text-header" data-toggle="dropdown" role="button"
       aria-haspopup="true" aria-expanded="false">
      Ngân hàng đề
    </a>
    <ul class="dropdown-menu">
     <li><a target="_blank" href="https://kiemtra.sachmem.vn/">Phiên bản 1.0</a></li>
      <li><a target="_blank" href="https://hoclieu.sachmem.vn/teacher/create_test/0?require_login=1">Phiên bản 2.0</a></li>
    </ul>
  </li>

  <li><a href="https://hoclieu.sachmem.vn/live_class/classes" target="_blank"> Lớp học</a></li>
  <!-- <li class="dropdown">
    <a href="/san-pham" class="text-header" data-toggle="dropdown" role="button"
       aria-haspopup="true" aria-expanded="false">
      Sản Phẩm
    </a>
    <ul class="dropdown-menu">
      <li><a href="/sach/mam-non">MẦM NON</a></li>
      <li><a href="/sach/tieu-hoc">TIỂU HỌC</a></li>
      <li><a href="/sach/thcs">TRUNG HỌC CƠ SỞ</a></li>
      <li><a href="/sach/thpt">TRUNG HỌC PHỔ THÔNG</a></li>
    </ul>
  </li> -->
  <li><a href="/bai-viet"> Tin Tức</a></li>
  <li class="dropdown">
    <a href="" class="text-header" data-toggle="dropdown" role="button"
       aria-haspopup="true" aria-expanded="false">
      Hỗ trợ
    </a>
    <ul class="dropdown-menu">
      <li><a target="_blank" href="https://gioithieu.sachmem.vn/lien-he/">Liên hệ</a></li>
      <li><a target="_blank" href="https://gioithieu.sachmem.vn/huongdan/">Hướng dẫn chung</a></li>
      <li><a target="_blank" href="https://gioithieu.sachmem.vn/cau-hoi-thuong-gap/">Câu hỏi thường gặp</a></li>
    </ul>
  </li>
</ul>

<script type="text/javascript">
  if( /iPhone|iPad|Mac|Macintosh|iPod/i.test(navigator.userAgent) ) {
    $("#thesachmemapp").attr("href", "https://apps.apple.com/us/app/th%E1%BA%BB-s%C3%A1ch-m%E1%BB%81m/id1395883765");
  }
</script>

<link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,400;0,500;0,600;0,700;1,100;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

<style type="text/css">
  body {
    font-family: 'Raleway', sans-serif;
    font-size: 15px;
    font-weight: 500;
  }
  /*.navbar-collapse {
    padding-left: 0;
    padding-right: 0;
  }
  .navbar-default .navbar-nav>li>a:not(.selected) {
    color: #868686;
    font-weight: 500;
    font-family: 'Raleway', sans-serif;
  }
  .nav.navbar-nav>li.selected>a {
    color: #5B5B5B;
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
  }
  .nav.navbar-nav>li.selected {
    box-shadow: inset 0px -3px 0px #4285f4;
  }
  .navbar-default .navbar-nav>li:not(.selected)>a:not(.selected):hover, .navbar-default .navbar-nav>li>a:not(.selected):focus {
    color: #868686;
    text-decoration: none;
    background-color: #F7F7F7;
  }
  .navbar-default .navbar-nav>li.selected>a:not(.selected):hover {
    text-decoration: none;
    color: #5B5B5B;
  }
  .navbar-default .navbar-nav>.open>a:not(.selected), .navbar-default .navbar-nav>.open>a:not(.selected):hover, .navbar-default .navbar-nav>.open>a:not(.selected):focus {
    color: #868686;
    text-decoration: none;
  }
  .dropdown-menu>li>a {
    color: #5B5B5B;
    font-weight: 500;
    padding-top: 10px;
    padding-bottom: 10px;
  }
  .dropdown-menu>li>a:hover, .dropdown-menu>li>a:focus {
    background-color: white;
    color: #4285F4;
    background-color: #F7F7F7;
  }
  .dropdown-menu {
    border: none;
    box-shadow: -1px 8px 14px rgb(0 0 0 / 10%);
  }*/
</style>

            <ul class="nav navbar-nav navbar-right">
  <li class="dropdown hidden" ng-app="notice" ng-controller="ctrl_notice" id="notice_app">
  <a href="" data-remote="true" data-toggle="dropdown" role="button"
    style="text-decoration: none;">
    <i class="fa fa-bell-o fa-lg" aria-hidden="true"></i>
    <span class="badge" ng-cloak>
      <i ng-show="loading" class="fa fa-spinner fa-pulse"></i>
      <span>
        {{number_notices_unseen}}
      </span>
    </span>
  </a>

  <ul ng-hide="loading" class="dropdown-menu notice-box">
    <div class="box-xs-100" ng-if="!notices.length">
      Bạn không có thông báo nào!
    </div>

    <li ng-repeat="notice in notices"
      class="notice-show {{notice.notice.seen ? '' : 'bg-info'}}">
      <a ng-href="{{urlExercise(notice)}}" target="_blank"
        class="no-padding-left no-padding-right" ng-click="seen(notice)" ng-cloak>
        <div class="box-container">
          <div class="box-xs-10 no-margin">
            <img ng-src="https://accounts.sachmem.vn/{{notice.user_commented.avatar}}"
              height="30px" width="30px">
          </div>
          &nbsp;
          <div class="box-xs-90 no-margin">
            <b class="text-info">{{notice.user_commented.name}}</b>

            <span ng-if="notice.comment_of_user.uid == 4202
              && notice.notice.sub_comment_id">
              đã phản hồi về bình luận của bạn
            </span>

            <span ng-if="notice.comment_of_user.uid != 4202
              && notice.notice.sub_comment_id">
              đã phản hồi về bình luận của <b>{{notice.comment_of_user.name}}</b>
            </span>

            <span ng-if="!notice.notice.sub_comment_id">
              đã bình luận trong bài <b>[{{notice.notice.book_id}}]</b>
            </span>
          </div>
        </div>
      </a>
    </li>
  </ul>
</li>

<iframe src="" id="sm-infos" hidden></iframe>
<script>
  // $(document).ready(function() {
  //   var comment_url = "https://comments.sachmem.vn/";
  //   var scope = $('[ng-controller="ctrl_notice"]').scope();
  //   var sm_comment_token = window.localStorage.getItem('sm:comment');
  //   if (sm_comment_token) {
  //     $.ajax({
  //       url: comment_url + "jwt/auth",
  //       headers: {
  //         "Authorization": sm_comment_token
  //       },
  //       type: "GET",
  //       crossDomain: true,
  //       xhrFields: {withCredentials: true},
  //       success: function(res) {
  //         if (res.code == 1) {
  //           scope.loadNotice();
  //           $('#sm-infos').remove();
  //         } else {
  //           toComment();
  //         }
  //       }
  //     });
  //   } else {
  //     toComment();
  //   }

  //   function toComment() {
  //     var sm_user = document.getElementById('sm-infos');
  //     sm_user.src = 'https://accounts.sachmem.vn/infos';
  //     sm_user.onload = function() {
  //       sm_user.contentWindow.postMessage(JSON.stringify({key: 'sm:user', method: "get"}), "*");
  //       window.onmessage = function(e) {
  //         if (e.origin !== "https://accounts.sachmem.vn") return;
  //         $.ajax({
  //           url:  comment_url + "jwt/token",
  //           headers: {
  //             "Authorization": e.data
  //           },
  //           type: "GET",
  //           crossDomain: true,
  //           xhrFields: {withCredentials: true},
  //           success: function(res) {
  //             if (res.code == 1) {
  //               window.localStorage.setItem('sm:comment', 'Bearer ' + res.data);
  //               scope.add_headers();
  //               scope.loadNotice();
  //               $('#sm-infos').remove();
  //             }
  //           }
  //         });
  //       }
  //     };
  //   }
  // });
</script>

<script type="text/javascript">
  var comment_url = "https://comments.sachmem.vn/";
  var calling_ajax = false;
    var url_notice = comment_url + "/api/v1/notices";

  var app_notice = angular.module("notice", []);
  app_notice.config(["$httpProvider", function ($httpProvider) {
    $httpProvider.defaults.crossDomain = true;
    $httpProvider.defaults.withCredentials = true;
  }]);

  app_notice.controller("ctrl_notice", function($scope, $http) {
    $scope.loading = true;
    $scope.notices = [];

    $scope.last_id = {
      notice: null,
      comment: null,
      subcomment: null
    };

    $scope.add_headers = function() {
      $http.defaults.headers.common["Authorization"] = window.localStorage.getItem('sm:comment');
    }
    $scope.add_headers();
    // $.ajax({
    //   url: comment_url + "auth/sso",
    //   type: "GET",
    //   crossDomain: true,
    //   xhrFields: {withCredentials: true},
    //   success: function() {
    //     $scope.loadNotice();
    //   }
    // });

    $scope.enoughDatasSend = function() {
        if (parseInt($scope.last_id.notice) < 1) return false;
      return true;
    }

    $scope.loadNotice = function() {
      if (calling_ajax) return null;
      calling_ajax = true;
      if (!$scope.enoughDatasSend()) return null;

      $http({
        url: url_notice,
        method: "GET",
        params: {
          last_id_notice: $scope.last_id.notice,
          last_id_comment: $scope.last_id.comment,
          last_id_subcomment: $scope.last_id.subcomment
        }
      }).then(function success(response) {
        $scope.loading = false;
        var notices_length = $scope.notices.length;

        response.data.notices.forEach(function(notice) {
          $scope.notices.push(notice);
        });
        $scope.last_id = response.data.last_id;
        $scope.number_notices_unseen = response.data.unseen;

        checkRenderAndSetScrollBar(notices_length, $("ul.notice-box").scrollTop());
      });
    }

    $scope.seen = function(notice) {
      if(!notice.notice.seen && notice.type == "normal") {
        $http({
          url: comment_url + "/api/v1/notices" + "?id=" + notice.notice.id,
          method: "PUT"
        }).then(function success(response) {
          notice.notice.seen = 1;
          $scope.number_notices_unseen--;
        });
      } else if(!notice.notice.seen && notice.type == "admin") {
        var type = notice.notice.sub_comment_id ? "subcomment" : "comment";
        var id = notice.notice.sub_comment_id ? notice.notice.sub_comment_id :
          notice.notice.comment_id;
        $http({
          url: comment_url + "/api/v1/" + type + "/update/seen?id=" + id,
          method: "PUT"
        }).then(function success(response) {
          notice.notice.seen = 1;
          $scope.number_notices_unseen--;
        });
      }
    }

    $scope.urlExercise = function(notice) {
      var url = "books/" + notice.notice.book_id + "/exercises/" + notice.notice.exercise_id
       + "?comment_id=" + notice.notice.comment_id + "&subcomment_id=";
      url += notice.notice.sub_comment_id ? notice.notice.sub_comment_id : "null";
      return url;
    }

    function checkRenderAndSetScrollBar(index, positionScrollBar) {
      var last_index_notices = index == 0 ? 0 : index - 1;
      var processCheck = setInterval(function() {
        var h = $("ul.notice-box > li:eq(" + last_index_notices + ")").height();
        if (h > 0) {
          clearInterval(processCheck);
          $("ul.notice-box").scrollTop(positionScrollBar);
          $("ul.notice-box").bind("scroll", function() {
            return scrollNotices($(this));
          });
          calling_ajax = false;
        }
      }, 10);
    }

    function scrollNotices(object) {
      var raw = object[0];
      if((raw.scrollTop + raw.offsetHeight) / raw.scrollHeight >= 0.95) {
        $scope.loadNotice();
      }
    }

    $("ul.notice-box").bind("scroll", function() {
      return scrollNotices($(this));
    });
  });

  if($("[ng-app]").length > 1)
    angular.bootstrap(document.getElementById("notice_app"), ["notice"]);
</script>

  <li class="dropdown">
    <a href="" class="text-header text-underline-none" data-toggle="dropdown" role="button"
       aria-haspopup="true" aria-expanded="false">
       <img style="border-radius: 100%;height:40px;width:40px;" src="https://accounts.sachmem.vn//uploads/user/avatar/4202/thumb_13534265_1631182407196098_326793146_n.jpg" alt="Thumb 13534265 1631182407196098 326793146 n" />
      <span class="padding-5px text-hover-underline">
        Thái Học
      </span>
      <span class="padding-5px" style="color: #9A9A9A;font-size: 0.75em; height: 36px; min-width: 36px; cursor: initial;background: #F6F6F6;border: 1px solid #CCCCCC;box-sizing: border-box;border-radius: 30px;">
          Giáo viên
      </span>
    </a>

    <ul class="dropdown-menu">
      <li><a href="https://accounts.sachmem.vn//users/info">Tài khoản</a></li>
      <!-- <li><a class="install-apps">Thêm vào màn hình chính</a></li> -->
      <li><a href="/users/settings/edit">Cài đặt</a></li>
      <li><a id="logout" rel="nofollow" data-method="delete" href="/logout">Thoát</a></li>
    </ul>
  </li>
</ul>

<script type="text/javascript">
  // const addBtn = document.querySelector('.install-apps');
  // addBtn.style.display = 'none';
  // if (checkBrowser_homepage) {
  //   var deferredPrompt;

  //   window.addEventListener('beforeinstallprompt', function (e) {
  //     // Prevent Chrome 67 and earlier from automatically showing the prompt
  //     e.preventDefault();
  //     // Stash the event so it can be triggered later.
  //     deferredPrompt = e;
  //     // Update UI to notify the user they can add to home screen
  //     addBtn.style.display = 'block';

  //     addBtn.addEventListener('click', function (e) {
  //       // hide our user interface that shows our A2HS button
  //       addBtn.style.display = 'none';
  //       // Show the prompt
  //       deferredPrompt.prompt();
  //       // Wait for the user to respond to the prompt
  //       deferredPrompt.userChoice.then(function (choiceResult) {
  //         if (choiceResult.outcome === 'accepted') {
  //           console.log('User accepted the A2HS prompt');
  //         } else {
  //           console.log('User dismissed the A2HS prompt');
  //         }
  //         deferredPrompt = null;
  //         window.location.href = window.location.origin;
  //       });
  //     });
  //   });
  // }
</script>


      </div>
      <div class="navbar-brand m-0 p-0 search-on-nav search-box-will-hide">
        <!-- <div class="icon-search" data-toggle="modal" data-target="#search-modal">
          <i class="fa fa-search icon-search-i" aria-hidden="true"></i>
        </div> -->
      </div>
    </div>
  </nav>
</div>

<!-- <script src="https://tienganh2.sachmem.vn/site/views/assets/js/js-main/scrollax.min.js"></script> -->
<!-- <script src="https://tienganh2.sachmem.vn/site/views/assets/js/js-main/main.js"></script> -->
<!-- <script src="https://tienganh2.sachmem.vn/site/views/assets/js/js-main/lazysizes.js"></script> -->

<script type="text/javascript">
  $("#logout").click(function() {
    localStorage.removeItem('sm:comment');
  });
  if (window.location.pathname == "/") {
    $(".nav.navbar-nav li").removeClass("selected");
  }
  // } else if (window.location.pathname == "/home") {
  //   $($(".nav.navbar-nav li")[1]).addClass("selected");
  $(".dropdown").click(function() {
    var that = this;
    setTimeout(function() {
      $(that).removeClass("open");
      if ($(that).find("a.text-header").attr("href") != "" && $(that).find("a.text-header").attr("href") != "/") {
        window.location = $(that).find("a.text-header").attr("href");
      }
    })
  })
  if (window.location.pathname == "/") {
  }
  else {
    $(".heid-logo").remove();
    $(".navbar-brand img").each(function() {
      $(this).attr("src", "https://cdn.sachmem.vn/public/images/common/logo-small2.png");
    })
    $(".navbar-brand").addClass("navbar-brand-logo-sachmem");
    $(".navbar-container").addClass("navbar-container-in-home")
  }
  $(".navbar-toggler").click(function() {
    if ($(".collapse.navbar-collapse").hasClass("show")) {
      $(".collapse.navbar-collapse").removeClass("show");
    } else {
      $(".collapse.navbar-collapse").addClass("show");
    }
  })
</script>


      <div class="box-container box-space-around body-wrapper">
          <div class="box-xs-97 box-sm-87 box-md-80">
            
<div id="home-page">
  <div class="box-container box-space-around box-row-wrap box-middle">


      <script>
        $(window).load(function() {
          $("#nn5").click(function() {
            $.cookie("nn5", true);
            $("#teacher_congra").remove();
          });
        });
      </script>

      <div class="box-xs-100 margin-bottom-20px">
        <div class="pull-right"
             data-toggle="tooltip"
             data-placement="left"
             title="Nhập mã sử dụng để thêm Sách Mềm">
          <a href="/pd_keys/new" class="btn click-one add-key-btn">
            <i class='fa fa-key' aria-hidden='true'></i> Thêm Sách Mềm
          </a>
        </div>
      </div>

      <div class="box-xs-100" id="book_app">
        <div ng-app="BooksApp" ng-controller="BookController" ng-cloak id="book_list">

          <p class="panel-title mouse-pointer block-select padding-bottom-10px"
             style="color: #5B5B5B;font-weight: 600;font-size: 20px;line-height: 25px;">
            Sách Mềm Offline
          </p>

          <div ng-if="book_offline.length == 0" style="background: #f0f0f0;padding: 15px;border-radius: 8px;margin-bottom: 16px;">
            Bạn chưa có sách ngoại tuyến! <a href="https://docs.google.com/document/d/1_Hl12gv31G6WdSxmsHyokRiuXfFnz7ahKvgCM-gja9Y/edit" target="_blank">Xem hướng dẫn.</a>
          </div>

          <div class="box-container box-row-wrap box-start padding-sides-15px-mobile margin-bottom-10px">
            <div ng-repeat="book in book_offline" class="box-xs-50 box-sm-33 box-md-25 margin-top-bottom-10px box-container box-space-around">
              <div class="box-xs-90 box-sm-73 box-md-55" style="position: relative;">
                <div style="position: absolute; left: 100%; margin-top: 10px;" ng-if="!active_tag_group_vertical">
                  <a ng-repeat="list_unit in book.list_units" ng-if="book.list_units.length < 5" class="click-one"
                     href="/books/{{book.id}}/units/{{list_unit.name_unit}}">
                    <div class="tag-group-origin text-center">
                      <b style="font-weight: 900;">{{list_unit.short_name}}</b>
                    </div>
                  </a>
                </div>
                <div ng-if="book.link_id == undefined" style="cursor: pointer;"
                     ng-click="goToUrl(book.id)" title="{{book.name}}">
                  <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-{{user_role}}.jpg"
                       class="click-one bookcover" style="margin-bottom: 10px;">
                  <div class="box-container box-space-around" ng-if="active_tag_group_vertical">
                    <a ng-repeat="list_unit in book.list_units" class="click-one"
                       href="/books/{{book.id}}/units/{{list_unit.name_unit}}">
                      <div class="tag-group-vertical text-center">
                        <b style="font-weight: 900;">{{list_unit.short_name}}</b>
                      </div>
                    </a>
                  </div>
                  <p class="module-x">
                    <span class="book-name">{{book.name}}</span>
                  </p>
                </div>
                <!-- <a ng-if="book.link_id != undefined"
                   href="{{book.link_id}}?require_login=1" target="_blank" title="{{book.name}}">
                  <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-{{user_role}}.jpg"
                       class="bookcover">

                  <p class="module-x">
                    <span >{{book.name}}</span>
                  </p>
                </a> -->
              </div>
            </div>
          </div>

          <p ng-if="recent_books.length > 0"
             class="panel-title mouse-pointer block-select padding-bottom-10px"
             style="color: #5B5B5B;font-weight: 600;font-size: 20px;line-height: 25px;margin-bottom: 16px;">
            Sách Mềm sử dụng gần đây</p>
          <div class="box-container box-row-wrap box-start padding-sides-15px-mobile margin-bottom-10px">
            <div class="box-xs-50 box-sm-33 box-md-25 margin-top-bottom-10px box-container box-space-around" ng-repeat="book in all_books" ng-if="indexOfx(recent_books, book.id)">
              <div class="box-xs-90 box-sm-73 box-md-55">

                <a ng-if="book.link_id  == undefined" href="/books/{{book.id}}/units" title="{{book.name}}">
                  <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-teacher.jpg"
                       class="click-one bookcover">

                  <p class="module-x">
                    <span class="book-name">{{book.name}}</span>
                  </p>
                </a>
              </div>
            </div>
          </div>

          <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,600;0,700;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">
          <div class="box-container box-row-wrap">
            <div class="panel-title block-select"
                 style="border-radius: 10px; font-size: 1.7em; display: contents; font-weight: 600;color: #5B5B5B;">
              <span style="padding: 0 15px;">Lớp </span>
            </div>
            <div class="grade-scrollbar" style="width: calc(100% - 90px);">
              <div style="display: inline-flex;">
                <div ng-repeat="grade in bookGroups.books"
                     data-toggle="collapse"
                     data-target="#gr_{{$index}}"
                     data-parent="#book_list"
                     class="mouse-pointer block-select grade-option {{(grade.name == '1') ? 'active': ''}}"
                     ng-style="{width: (grade.name == 'Mầm non') ? 'max-content' : ''}">
                  {{grade.name}}
                </div>
              </div>
            </div>
          </div>
          <div ng-repeat="grade in bookGroups.books"
               ng-init="temp_group = get_group($index); that_index=$index" class="panel de-panel">
            <div ng-if="temp_group.length > 1"
                 id="gr_{{$index}}"
                 class="collapse {{(grade.name == '1') ? 'in': ''}}">

              <ul class="nav custom-tabs">
                <li ng-repeat="typee in temp_group"
                    ng-class="activeGrade($index, typee, grade, 0)">
                  <a ng-if="typee!='eps'" data-toggle="tab" href="#gr_{{that_index}}_{{typee}}">{{group_name[typee]}}</a>
                  <a ng-if="typee=='eps'&&that_index<5" data-toggle="tab" href="#gr_{{that_index}}_{{typee}}">Bộ sách Smiles</a>
                  <a ng-if="typee=='eps'&&that_index>4&&that_index<9" data-toggle="tab" href="#gr_{{that_index}}_{{typee}}">Bộ sách Spark</a>
                  <a ng-if="typee=='eps'&&that_index>8" data-toggle="tab" href="#gr_{{that_index}}_{{typee}}">Bộ sách Smart Time</a>
                </li>
              </ul>

              <div class="tab-content">
                <div ng-repeat="typee in temp_group" ng-class="activeGrade($index, typee, grade, 1)"
                     class="tab-pane fade {{$index}}" id="gr_{{that_index}}_{{typee}}">
                  <div ng-if="grade[typee].length > 0"
                       class="box-container box-row-wrap box-start">
                    <div ng-repeat="book in grade[typee]"
                         class="box-xs-50 box-sm-33 box-md-25 margin-top-bottom-10px box-container box-space-around">
                      <div class="box-xs-90 box-sm-73 box-md-55">
                        <a ng-if="book.link_id == undefined || ['278', '287'].includes(book.id)"
                           href="/books/{{book.id}}/units" title="{{book.name}}">
                          <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-{{user_role}}.jpg"
                               class="click-one bookcover">

                          <p class="module-x">
                            <span class="book-name">{{book.name}}</span>
                          </p>
                        </a>
                        <a ng-if="book.link_id != undefined && !['278', '287'].includes(book.id)"
                           href="{{book.link_id}}?require_login=1" target="_blank" title="{{book.name}}">
                          <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-{{user_role}}.jpg"
                               class="bookcover">

                          <p class="module-x">
                            <span class="book-name">{{book.name}}</span>
                          </p>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div ng-if="temp_group.length <= 1"
                 id="gr_{{$index}}"
                 class="collapse {{(grade.name == '1') ? 'in': ''}}">
              <div ng-repeat="typee in temp_group"
                   ng-if="grade[typee].length > 0"
                   class="box-container box-row-wrap box-start">
                <div ng-repeat="book in grade[typee]"
                     class="box-xs-50 box-sm-33 box-md-25 margin-top-bottom-10px box-container box-space-around">
                  <div class="box-xs-90 box-sm-73 box-md-55">
                    <a ng-if="book.link_id == undefined"
                       href="/books/{{book.id}}/units" title="{{book.name}}">
                      <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-{{user_role}}.jpg"
                           class="click-one bookcover">

                      <p class="module-x">
                        <span class="book-name">{{book.name}}</span>
                      </p>
                    </a>
                    <a ng-if="book.link_id != undefined"
                       href="{{book.link_id}}?require_login=1" target="_blank" title="{{book.name}}">
                      <img ng-src="https://cdn.sachmem.vn/public//bookcovers2/{{book.code}}-{{user_role}}.jpg"
                           class="bookcover">

                      <p class="module-x">
                        <span class="book-name">{{book.name}}</span>
                      </p>
                    </a>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
  </div>
</div>

<script src="https://cdn.sachmem.vn/public/books20.js"></script>
<script type="text/javascript">
  var book_json_offline = JSON.parse(JSON.stringify(book_json));
  var new_books = [1, 2, 3, 4, 19, 20, 7, 8, 11, 12, 15, 16, 24, 25, 28, 34, 29, 35, 30, 36];
  var old_books = [257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276];

  book_json.books[3].mois[0].name = "Tiếng Anh 3 - Global Success tập 1"
  book_json.books[3].mois.push({
    "name": "Tiếng Anh 3 Sách bài tập - Global Success",
    "code": "TA3SBTGS",
    "id": "1003",
    "sj": "Tiếng Anh",
    "link_id": "https://hanhtrangso.nxbgd.vn/ebook/read/vo-bai-tap-tieng-anh-3-globai-sucess-11305"
  })
  book_json.books[7].mois.push({
    "name": "Tiếng Anh 7 Sách bài tập - Global Success",
    "code": "TA7SBTGS",
    "id": "1007",
    "sj": "Tiếng Anh",
    "link_id": "https://hanhtrangso.nxbgd.vn/ebook/read/bai-tap-tieng-anh-7-global-sucess-11303"
  })
  book_json.books[10].mois.push({
    "name": "Tiếng Anh 10 Sách bài tập - Global Success",
    "code": "TA10SBTGS",
    "id": "1010",
    "sj": "Tiếng Anh",
    "link_id": "https://hanhtrangso.nxbgd.vn/ebook/read/bai-tap-tieng-anh-10-global-sucess-11301"
  })

  for (var i = 0; i < new_books.length; i++) {
    for (var j = 0; j < book_json.books.length; j ++) {
      for (var k = 0; k < book_json.books[j].tk.length; k++) {
        if (parseInt(book_json.books[j].tk[k].id) == new_books[i]) {
          book_json_offline.books[j].tk.push({"name": book_json.books[j].tk[k].name + " (cũ)",
                                              "id": old_books[i].toString(),
                                               "sj": book_json.books[j].tk[k].sj,
                                              "code": book_json.books[j].tk[k].code,
                                              "link_id": book_json.books[j].tk[k].link_id})
          break;
        }
      }
    }
  }

</script>
<script type="text/javascript">

  $(window).load(function(){
    var book_ids = [285, 293, 31, 28, 37, 34, 32, 29, 38, 35, 33, 30, 39, 36, 22, 182, 278, 82, 41, 40, 287, 23, 255, 44, 43, 291, 325, 5, 1, 2, 6, 3, 4, 21, 19, 20, 256, 279, 9, 277, 7, 10, 280, 8, 292, 13, 11, 14, 12, 17, 15, 18, 16, 26, 24, 27, 25];
      var all_book_ids = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 71, 72, 73, 74, 75, 76, 79, 80, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 209, 210, 211, 212, 213, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 291, 292, 293, 325];
      book_ids = book_ids.concat(all_book_ids);

//    if (book_ids.indexOf(291) != -1) {
 //     book_ids.push(1003)
 //   }
 //   if (book_ids.indexOf(292) != -1) {
 //     book_ids.push(1007)
 //   }
 //   if (book_ids.indexOf(293) != -1) {
 //     book_ids.push(1010)
 //   }
    var book_offline_ids = [];
    var book_offline = [];

    for (var i = 0; i < book_json.books.length; i++) {
      for (var j = book_json.books[i].mois.length - 1; j >= 0; j--) {
        if (book_ids.indexOf(parseInt(book_json.books[i].mois[j].id)) == -1) {
          book_json.books[i].mois.splice(j, 1);
        }
      }
      for (var j = book_json.books[i].ten_years.length - 1; j >= 0; j--) {
        if (book_ids.indexOf(parseInt(book_json.books[i].ten_years[j].id)) == -1) {
          book_json.books[i].ten_years.splice(j, 1);
        }
      }
      for (var j = book_json.books[i].eps.length - 1; j >= 0; j--) {
        if (book_ids.indexOf(parseInt(book_json.books[i].eps[j].id)) == -1) {
          book_json.books[i].eps.splice(j, 1);
        }
      }
      for (var j = book_json.books[i].tk.length - 1; j >= 0; j--) {
        if (book_ids.indexOf(parseInt(book_json.books[i].tk[j].id)) == -1) {
          book_json.books[i].tk.splice(j, 1);
        }
      }
    }

    for(var i = book_json.books.length - 1; i >= 0; i--) {
      if ((book_json.books[i].mois.length == 0) &&
          (book_json.books[i].ten_years.length == 0) &&
          (book_json.books[i].eps.length == 0) &&
          (book_json.books[i].tk.length == 0)) {
        book_json.books.splice(i, 1);
      }
    }

    var app = angular.module("BooksApp", ["ngSanitize"]);
    app.controller("BookController", function($scope) {
      $scope.bookGroups = book_json;

      $scope.all_books = [];

      for (var i = 0; i < book_json.books.length; i++ ) {
        $scope.all_books = $scope.all_books.concat(book_json.books[i].mois);
        $scope.all_books = $scope.all_books.concat(book_json.books[i].ten_years);
        $scope.all_books = $scope.all_books.concat(book_json.books[i].eps);
        $scope.all_books = $scope.all_books.concat(book_json.books[i].tk);
      }

      // $scope.all_books.push({"name":"My Little Fun 1","id":"288","code":"TAMN1SHS","sj":"Tiếng Anh"});
      // $scope.all_books.push({"name":"My Little Fun 2","id":"289","code":"TAMN2SHS","sj":"Tiếng Anh"});
      // $scope.all_books.push({"name":"My Little Fun 3","id":"290","code":"TAMN3SHS","sj":"Tiếng Anh"});
      // $scope.all_books.push({"name":"Tiếng Anh 3 - Global Success","id":"291","code":"TA3GSSHS","sj":"Tiếng Anh"});
      // $scope.all_books.push({"name":"Tiếng Anh 7 - Global Success","id":"292","code":"TA7GSDEMO","sj":"Tiếng Anh"});
      // $scope.all_books.push({"name":"Tiếng Anh 10 - Global Success","id":"293","code":"TA10GSDEMO","sj":"Tiếng Anh"});

      $scope.user_role = "teacher";
      $scope.recent_books = [24, 4, 325, 291];

      $scope.group_name = {"mois": "Tiếng Anh theo CT GDPT mới",
                           "ten_years": "Tiếng Anh thí điểm hệ 10 năm",
                           "eps": "Bộ sách Smiles",
                           "tk": "Sách tham khảo khác"
                          }

      $scope.get_group = function (i) {
        var groups = []
        if ($scope.bookGroups.books[i].mois.length > 0)
          groups.push("mois");
        if ($scope.bookGroups.books[i].ten_years.length > 0)
          groups.push("ten_years");
        if ($scope.bookGroups.books[i].eps.length > 0)
          groups.push("eps");
        if ($scope.bookGroups.books[i].tk.length > 0)
          groups.push("tk");

        return groups;
      }

      $scope.activeGrade = function (inx, typee, grade, isBook) {
        var className = '';
        // if (['3', '7', '10'].includes(grade.name) && typee == 'ten_years') className = 'active';
        // else if (inx == 0 && !['3', '7', '10'].includes(grade.name))
        if (inx == 0) {
          className = 'active';
        }
        if (isBook == 1) className += " in";
        return className;
      }

      $scope.indexOfx = function (x, y) {
        return x.indexOf(parseInt(y)) > -1;
      }

      $scope.goToUrl = function(id) {
        window.location = '/books/' + id + '/units';
      }

      if (checkBrowser_homepage) {
        caches.open('cache-sachmem-v1').then(function(cache){
          if (!cache.match('/', {credentials: 'include'})) {
            fetch(window.location.origin + "/home", {credentials: 'include'}).then(function(res){
              cache.put('/', res.clone());
            })
          }
          if (!cache.match('/home', {credentials: 'include'})) {
            fetch(window.location.origin + "/home", {credentials: 'include'}).then(function(res){
              cache.put('/home', res.clone());
            })
          }
          // show book_offline
          caches.keys().then(function(all_name_caches){
            var all_name_caches = all_name_caches;
            for (var i = 1; i < all_name_caches.length; i++) {
              var temp = all_name_caches[i].slice(0, all_name_caches[i].indexOf('-'));
              if (book_offline_ids.indexOf(temp) == -1) {
                book_offline_ids.push(temp);
              }
            }

            for (var i = 0; i < book_json_offline.books.length; i++) {
              for (var j = book_json_offline.books[i].mois.length - 1; j >= 0; j--) {
                for (var n = 0; n < book_offline_ids.length; n++) {
                  if (book_offline_ids[n] == parseInt(book_json_offline.books[i].mois[j].id)) {
                    book_offline.push(book_json_offline.books[i].mois[j]);
                  }
                }
              }
              for (var j = book_json_offline.books[i].ten_years.length - 1; j >= 0; j--) {
                for (var n = 0; n < book_offline_ids.length; n++) {
                  if (book_offline_ids[n] == parseInt(book_json_offline.books[i].ten_years[j].id)) {
                    book_offline.push(book_json_offline.books[i].ten_years[j]);
                  }
                }
              }
              for (var j = book_json_offline.books[i].eps.length - 1; j >= 0; j--) {
                for (var n = 0; n < book_offline_ids.length; n++) {
                  if (book_offline_ids[n] == parseInt(book_json_offline.books[i].eps[j].id)) {
                    book_offline.push(book_json_offline.books[i].eps[j]);
                  }
                }
              }
              for (var j = book_json_offline.books[i].tk.length - 1; j >= 0; j--) {
                for (var n = 0; n < book_offline_ids.length; n++) {
                  if (book_offline_ids[n] == parseInt(book_json_offline.books[i].tk[j].id)) {
                    book_offline.push(book_json_offline.books[i].tk[j]);
                  }
                }
              }
            }

            $scope.book_offline = book_offline;
            if ($scope.book_offline.length > 0) {
              $scope.active_tag_group_vertical = false;
              $(window).resize(function() {
                if ($('body').width() < 768) {
                  $scope.active_tag_group_vertical = true;
                } else $scope.active_tag_group_vertical = false;
                $scope.$applyAsync();
              }).resize();
            }
            for (var t = 0; t < $scope.book_offline.length; t++) {
              var book_offline_id = $scope.book_offline[t].id;
              var all_unit_regex = new RegExp("^" + book_offline_id + "\-.*?$");
              var list_unit = all_name_caches.filter(function(val) {
                return all_unit_regex.test(val);
              });
              var temp_units = [];
              for (var l = 0; l < list_unit.length; l++) {
                var name_unit = list_unit[l].replace(book_offline_id + '-', '');
                name_unit = codeToChar(name_unit).replace(/\?/, '%3F').replace(/\./, 'DOTMARK');
                var arr = name_unit.split(' ');
                var short_name = "";
                var reg = /^\d+$/;
                var end = false;
                for (var z = 0; z < arr.length; z++) {
                  if (!end) {
                    if (reg.test(arr[z])) {
                      short_name += arr[z]
                      end = true;
                    } else {
                      short_name += arr[z][0];
                    }
                  }
                }
                temp_units.push({
                  name_unit: name_unit,
                  short_name: short_name.toUpperCase()
                });
              }
              $scope.book_offline[t].list_units = temp_units;
            }
            $scope.$applyAsync();
          })
          // end

          for (var i = 0; i < book_json.books.length; i++) {
            const book_container = book_json.books[i];
            for (const key in book_container) {
              if (book_container.hasOwnProperty(key)) {
                const books = book_container[key];
                for (var j = 0; j < books.length; j++) {
                  const book = books[j];
                  if(!book.code) continue;
                  var url = `${DOMAIN}/bookcovers2/${book.code}-${$scope.user_role}.jpg`;
                  fetch(url).then(function(res){
                    cache.put(res.url, res.clone());
                  })
                }
              }
            }
          }

        });
      }
    })
    if($("[ng-app]").length > 1)
      angular.bootstrap(document.getElementById("book_list"), ["BooksApp"]);
  })

  $(window).load(function() {
    var current_cookie = getCookie('stop_communication_app');
    if (current_cookie) {
      current_cookie = current_cookie.split('.');
      for (var i = 0; i < current_cookie.length; i++) {
        $("#communication_app" + current_cookie[i]).remove();
      }
    }
  });

  function getCookie(name) {
    var value = "; " + document.cookie;
    var parts = value.split("; " + name + "=");
    if (parts.length == 2) return parts.pop().split(";").shift();
  }

  function closeCommunication(self) {
    var close_id = self.id.replace('stop_communication_app', 'communication_app');
    if (getCookie('stop_communication_app')) {
      var temp_cookie = getCookie('stop_communication_app');
      temp_cookie += '.' + self.getAttribute('dataindex');
      $.cookie('stop_communication_app', temp_cookie);
    } else $.cookie('stop_communication_app', self.getAttribute('dataindex'));
    $("#" + close_id).remove();
  }
  $(document).on("click", ".grade-option", function () {
    $(".grade-option").removeClass("active");
    $(this).addClass("active");
  });
</script>

<style type="text/css">
  #suggestInstallApp {
    position: fixed;
    z-index: 9999999999;
    top: 180px;
    right: 0;
    width: calc(100% - 24px);
    height: 77px;
    margin: 44px 12px;
    background: #FFFFFF;
    box-shadow: 1px 2px 7px rgba(116, 116, 116, 0.25);
    border-radius: 15px;
    max-width: 400px;
  }
  #suggestInstallApp .btn-sgintapp-1 {
    height: 28px;
    width: 94px;
  }
  #suggestInstallApp .btn-sgintapp-2 {
    height: 27px;
    width: 107px;
  }
  .text-install-app {
    font-family: 'Raleway', sans-serif;
    font-style: normal;
    font-weight: 500;
    font-size: 14px;
    line-height: 16px;
    color: #5B5B5B;
    padding: 10px 0px;
  }
  .btn-hide-install-app {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 11px;
    height: 11px;
  }
</style>

<div id="suggestInstallApp" class="hidden animate__animated animate__backInRight animate__delay-2s">
  <div class="box-container box-space-around box-middle box-xs-100" style="height: 100%; position: relative;">
    <div class="box-xs-22 text-center">
      <img src="https://cdn.sachmem.vn/public/icons/logo512.png" width="48px" height="48px">
    </div>
    <div class="box-xs-78" style="height: 100%;">
      <div class="text-install-app">
        Cài đặt ứng dụng Sách mềm
      </div>
      <a href="https://play.google.com/store/apps/details?id=vn.sachmem.mobile&launch=true">
        <img class="btn-sgintapp-1" src="https://cdn.sachmem.vn/public/temp/btn-store/google_play.png">
      </a>
      <a href="itms-apps://itunes.apple.com/app/id1590114425" style="padding-left: 5px;">
        <img class="btn-sgintapp-2" src="https://cdn.sachmem.vn/public/temp/btn-store/app_store.png">
      </a>
    </div>
    <div class="btn-hide-install-app" onclick="hideSuggestInstallApp()">
      <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 1L1 10" stroke="#BABABA" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M1 1L10 10" stroke="#BABABA" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    if (getCookie('suggestInstallApp3') == 1) {
      $("#suggestInstallApp").remove();
    } else {
      if (mobileAndTabletCheck()) {
        $("#suggestInstallApp").removeClass('hidden');
      }
    }
  })

  function hideSuggestInstallApp() {
    $.cookie('suggestInstallApp3', '1');
    $("#suggestInstallApp").remove();
  }

  function mobileAndTabletCheck() {
    var check = false;
	  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
   //check = true;
    return check;
  };

  function getCookie(name) {
    var value = "; " + document.cookie;
    var parts = value.split("; " + name + "=");
    if (parts.length == 2) return parts.pop().split(";").shift();
  }
</script>


<style type="text/css">

.module-x {
  width: 100%;
  margin-bottom: 0px;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}
.module p {
  margin: 0px;
}
.book-name {
  font-weight: 600;
  color: #5B5B5B;
  font-size: 1.1em;
}
.book-name:hover {
  color: #4285F4;
}
.bookcover {
  width: 100%;
  height: auto;
  margin-bottom: 10px;
  border-radius: 4px;
}
.bookcover:hover ~ .module-x>.book-name {
  color: #0d8dd0!important;
}
.margin-top-bottom-10px {
  margin-top: 10px;
  margin-bottom: 10px;
}
@media (min-width: 768px) {
  .padding-sides-15px-mobile {
    padding-right: 15px;
    padding-left: 15px;
  }
}
.de-panel {
  margin-bottom: 0;
  background-color: #fff;
  border: none;
  border-radius: 0;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.grade-option {
  /*margin: 0 10px;*/
  padding: 5px 30px;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  font-size: 1.5em;
  display: inline-block;
  font-weight: 600;
  color: #868686;
  font-family: 'Nunito', sans-serif;
}
.grade-option:hover, .grade-option.active {
  color: #5B5B5B;
  background: #F6F6F6;
}
.grade-option.active {
  box-shadow: inset 0px -3px 0px #4285f4;
}
.custom-tabs {
  font-size: 1.2em;
  font-weight: 500;
  /*border-bottom: 1px solid #ddd;*/
  margin-bottom: 20px;
}
.custom-tabs > li {
  float: left;
}
.custom-tabs > li > a {
  color: #868686;
  padding: 10px 25px;
}
.custom-tabs > li > a:hover {
  cursor: pointer;
}
.custom-tabs > li > a {
  /*border-bottom: 3px solid #fff;*/
  border-radius: 5px;
}
.custom-tabs > li.active > a, .custom-tabs > li > a:hover, .custom-tabs > li.active > a:focus {
  background-color: #F7F7F7;
  /*border-bottom: 3px solid #4285f4;*/
  color: #5B5B5B;
  font-weight: 600;
}
.grade-scrollbar {
  overflow-x: scroll;
}
.grade-scrollbar::-webkit-scrollbar {
  height: 6px;
}
.grade-scrollbar::-webkit-scrollbar-thumb {
  background: #dbdbdb;
}
.grade-scrollbar::-webkit-scrollbar {
  display: block;
}
::-webkit-scrollbar-thumb {
  border-radius: unset;
  background: unset;
}
.teacher-congra-main {
  padding: 10px 10px 10px 10px;
}
.tag-group-origin {
  margin-bottom: 10px;
  padding: 5px 16px 5px 6px;
  font-size: 18px; color: #ffffff;
  background: url(https://cdn.sachmem.vn/public/temp/TagGroup.png);
  background-size: auto 100%;
  background-position: right;
}
.tag-group-origin:hover {
  background: url(https://cdn.sachmem.vn/public/temp/TagGroup_hover.png);
  background-size: auto 100%;
  background-position: right;
}
.tag-group-vertical {
  margin-bottom: 10px;
  padding: 6px 3px 14px 3px;
  font-size: 16px;
  color: #ffffff;
  width: 40px; height: 48px;
  background: url(https://cdn.sachmem.vn/public/temp/TagGroupVertical.png);
  background-size: 100% auto;
  background-position: bottom;
}
.tag-group-vertical:hover {
  background: url(https://cdn.sachmem.vn/public/temp/TagGroupVertical_hover.png);
  background-size: 100% auto;
  background-position: bottom;
}
.add-key-btn {
  font-size: 1.1em;
  background-color: #169e4f;
  border: #39c64e;
  margin-top: 20px;
  color: #ffffff !important;
  font-weight: bold;
  padding: 9px 15px;
}
.add-key-btn:hover {
  background-color: #089844;
  border-color: #0a803a;
}
</style>
<!-- Load Facebook SDK for JavaScript -->
      <div id="fb-root"></div>
      <script>
        window.fbAsyncInit = function() {
          FB.init({
            xfbml            : true,
            version          : 'v8.0'
          });
        };

        (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/vi_VN/sdk/xfbml.customerchat.js';
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));</script>

      <!-- Your Chat Plugin code -->
      <div class="fb-customerchat"
        attribution=setup_tool
        page_id="1852852411609063"
  theme_color="#0084ff"
  logged_in_greeting="Xin chào! Chúng tôi có thể giúp gì cho bạn?"
  logged_out_greeting="Xin chào! Chúng tôi có thể giúp gì cho bạn?">
</div>
<!--
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/>
<style type="text/css">
  /*.fa-snowflake {*/
  .fa-envira {
    /*color: #fff700;*/
    color: green;
    position: fixed;
    top: -20px;
    animation: fall linear forwards;
    z-index: 0;
  }
  /*.fa-snowflake:before{content:"\f2dc"}*/
  .fa-envira:before{content:"\f06c"}
  @keyframes fall {
    to {
      transform: translate(30vw, 100vh);
    }
  }
</style>
<script type="text/javascript">
  setInterval(createSnowFlake, 1000);
  function createSnowFlake() {
    const snow_flake = document.createElement('i');
    snow_flake.classList.add('fas');
    snow_flake.classList.add('fa-envira');
    snow_flake.style.left = Math.random() * window.innerWidth + 'px';
    snow_flake.style.animationDuration = Math.random() * 8 + 6 + 's'; // between 2 - 5 seconds
    snow_flake.style.opacity = 0.3 * Math.random();
    snow_flake.style.fontSize = Math.random() * 8 + 8 + 'px';
    document.body.appendChild(snow_flake);
    setTimeout(function () {
      snow_flake.remove();
    }, 10000)
  }
</script>
-->

<div style="margin-top: 50px;" class="box-container box-space-around">
  <div class="box-xs-100 margin-bottom-30px">
     <div align="center">
       <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4984698267311439"
     crossorigin="anonymous"></script>
      <!-- t1 -->
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-4984698267311439"
           data-ad-slot="9209654223"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
	<script>
	   setTimeout(function() {
	   (adsbygoogle = window.adsbygoogle || []).push({});
	   }, 1000)
      </script>
     </div>
   </div>
</div>



          </div>

      </div>

        <footer class="ftco-footer ftco-no-pt">
  <div class="container footer-contai">
    <div class="row mb-4">
      <div class="col-md">
        <div class="ftco-footer-widget pt-md-5 mb-4">
          <h2 class="ftco-heading-2">Nhà xuất bản Giáo dục Việt Nam</h2>
          <p>Công ty Cổ phần Đầu tư và Phát triển Giáo dục Hà Nội</p>
          <p>Giấy chứng nhận Đăng ký Kinh doanh số 0102222393</p>
          <p>Ngày cấp: 26/04/2021</p>
          <p>Nơi cấp: Sở Kế Hoạch Và Đầu Tư TP. Hà Nội</p>
          <p>Giấy phép thiết lập mạng Xã hội Số 405/GP - BTTTT</p>
          <p>Do Bộ Thông tin và Truyền thông Cấp ngày 21/08/2017</p>
          <a target="_blank" href="http://online.gov.vn/HomePage/CustomWebsiteDisplay.aspx?DocId=41373">
            <img height="70" src="https://cdn.sachmem.vn/public/temp/20150827110756-dathongbao.png">
          </a>
        </div>
      </div>

      <div class="col-md">
        <div class="ftco-footer-widget pt-md-5 mb-4">
          <h2 class="ftco-heading-2">Liên Hệ</h2>
          <div class="block-23 mb-3">
            <ul>
              <li><span class="icon fa fa-map-marker"></span><span class="text">Tòa nhà VP HEID, ngõ
                      12 Láng Hạ, Thành Công, Ba Đình, Hà Nội</span></li>
              <li><span class="icon fa fa-phone"></span><span class="text">Bộ phận kinh doanh: 0243 512
                      2636</span></li>
              <li><span class="icon fa fa-phone"></span><span class="text">Hỗ trợ Sách Mềm: 0243 512 2222 - 0888 969 599</span></li>
              <li><span class="icon fa fa-paper-plane"></span><span class="text">lienhe@sachmem.vn</span></li>
            </ul>
            <ul class="ftco-footer-social list-unstyled float-md-left float-lft mb-0">
              <li class="ftco-animate mb-0 fadeInUp ftco-animated"><a href="https://www.facebook.com/sachmem.vn" class="m-0"><span class="fa fa-facebook"></span></a></li>
            </ul>
            <ul class="ftco-footer-social list-unstyled float-md-left float-lft mb-0">
              <li class="ftco-animate mb-0 fadeInUp ftco-animated"><a href="https://www.youtube.com/channel/UCGzhS0mRNympJQQ0PStn7CQ" class="m-0"><span class="fa fa-youtube-play"></span></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-center">
            <p>Copyright 2020 Công ty Cổ phần Đầu tư và Phát triển Giáo dục Hà Nội. All Rights Reserved</p>
        </div>
    </div>
  </div>
</footer>



      
 <style type="text/css" media="screen">
    .button-social {
      position: fixed;
      top: 50px;
      right: 0px;
      z-index: 9999;
    }
    .button-social a {
      cursor: pointer;
    }
    .socialButtons {
      position: absolute;
      width: 100%;
      top: 120%;
      text-align: center;
    }
    .socialButtons a {
      display: block;
      margin: 0px auto 10px;
      line-height: 1.15;
      position: relative;
    }


  </style>
  <div class="button-social">
    <a title="" id="openFAB">
        <div style="width: 12px;height: 46px;background: #2895F1;border-top-left-radius: 10px;border-bottom-left-radius: 10px;">
          <i class="fa fa-chevron-left" style="color: #a7fff4; margin-top: 16px;margin-left: 1px;"></i>
        </div>

    </a>
    <a title="" id="closeFAB"><i class="fa fa-2x fa-times-circle"></i></a>
    <div class="socialButtons" id="socialButtons">
      <a href="https://www.facebook.com/sachmem.vn" title="Facebook" target="_blank">
        <i class="fa fa-2x fa-facebook-square"></i>
      </a>
      <a href="https://m.me/sachmem.vn" title="Messenger" target="_blank">
        <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 0c-6.627 0-12 4.975-12 11.111 0 3.497 1.745 6.616 4.472 8.652v4.237l4.086-2.242c1.09.301 2.246.464 3.442.464 6.627 0 12-4.974 12-11.111 0-6.136-5.373-11.111-12-11.111zm1.193 14.963l-3.056-3.259-5.963 3.259 6.559-6.963 3.13 3.259 5.889-3.259-6.559 6.963z" fill="#2895F1"/></svg>
      </a>
    </div>
  </div>

  <script type="text/javascript">
    $(document).ready(function() {
      $('#closeFAB').hide();
      $('#socialButtons').hide();
      $('#openFAB').click(function() {
        $('#openFAB').hide();
        $('#closeFAB').fadeIn();
        $('#socialButtons').fadeIn("slow");
        $('.button-choosebook').hide();
      });
      $('#closeFAB').click(function() {
        $('#closeFAB').hide();
        $('#socialButtons').hide();
        $('#openFAB').fadeIn();
        $('.button-choosebook').show();
      });
    });
  </script>


    <script type="text/javascript">
      $(window).load(function() {NProgress.done();var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'; function random_string(length) { var result = ''; for ( var i = 0; i < length; i++ ) { result += characters.charAt(Math.floor(Math.random() * 77)); } return result; } function gid () { return (new Date().getTime() + random_string(15)); } if ($.cookie("tk33") == undefined) { $.cookie("tk33", gid()) }   var temp_data = { "uid": "4202", "e": "thaihoc.vnu@gmail.com", "tk": $.cookie("tk33"), "u": window.location.href }; $.ajax({ url: "https://lang.sachmem.vn/sachmems", type: "post", data: temp_data, success: function (res) {} });});
    </script>
  </body>
</html>


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GQ2P6M83SN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GQ2P6M83SN');
</script>

